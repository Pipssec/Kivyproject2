#:kivy 1.4

<MenuScreen>:
    canvas.before:
        Color:
            rgb: 1, .17, 0, 0
        Rectangle:
            size: self.size
    FloatLayout:
        AsyncImage:
            source: 'data/profile.jpg'
            size: self.size
            pos_hint: {'center_x':.5, 'center_y': .5}

    FloatLayout:
        Button:
            text: "Список\nзаказов"
            pos_hint: {'x': .15, 'y': .6}
            size_hint: .2, .2
            on_press: root.manager.current = 'list_orders'

        Button:
            text: "Список\nСТО"
            pos_hint: {'x': .65, 'y': .6}
            size_hint: .2, .2
            on_press: root.manager.current = 'liststo'

        Button:
            text: "О нас"
            pos_hint: {'x': .0, 'y': .9}
            size_hint: 1, .1
            on_press: root.manager.current = 'about_us'

        Button:
            text: "Создать\nзаказ"
            pos_hint: {'x': .15, 'y': .3}
            size_hint: .2, .2
            on_press: root.manager.current = 'createorder'

        Button:
            text: "Авторизация"
            pos_hint: {'x': .5, 'y': .0}
            size_hint: .5, .1
            on_press: root.manager.current = 'authorization'

        Button:
            text: "Регистрация"
            pos_hint: {'x': .0, 'y': .0}
            size_hint: .5, .1
            on_press: root.manager.current = 'registration'

#######################################

<AboutUs>:
    canvas.before:
        Color:
            rgb: 1, .17, 0, 0
        Rectangle:
            size: self.size
    FloatLayout:
        AsyncImage:
            source: 'data/profile.jpg'
            size: self.size
            pos_hint: {'center_x':.5, 'center_y': .5}

        Label:
            text: 'Created by Artsem Stsepanenka '
            size_hint: .5, .6
            pos_hint: {'x':.3, 'y': .35}
            color: 0, .35, .35
        Button:
            text: 'Меню'
            size_hint: 1, .1
            pos_hint: {'x':.0, 'y': .0}
            on_press: root.manager.current = root.menu()

#######################################
<ListOrders>:
    canvas.before:
        Color:
            rgb: 1, .17, 0, 0
        Rectangle:
            size: self.size
    BoxLayout:
        orientation: 'vertical'

        RecycleView:
            data: root.data
            viewclass: 'Button'

            RecycleBoxLayout:
                orientation: 'vertical'
                padding: dp(20)
                spacing: dp(10)
                default_size: None, dp(50)
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height

        Button:
            text: 'Меню'
            on_press: root.manager.current = root.menu()
            size_hint: 1, .1
            # size: "100dp", "60dp"
            # width: "100dp"
            # height: "60dp"
            # x, center_x, right
            # y, center_y, top
            pos_hint: { "center_y": .5 }

#######################################
<ListSto>:
    canvas.before:
        Color:
            rgb: 1, .17, 0, 0
        Rectangle:
            size: self.size
    BoxLayout:
        orientation: 'vertical'

        RecycleView:
            data: root.data
            viewclass: 'Button'

            RecycleBoxLayout:
                orientation: 'vertical'
                padding: dp(20)
                spacing: dp(10)
                default_size: None, dp(50)
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height

        Button:
            text: 'Меню'
            on_press: root.manager.current = root.menu()
            size_hint: 1, .1

#######################################

<Registration>:
    FloatLayout:
        canvas.before:
            Color:
                rgb: 1, .17, 0, 0
            Rectangle:
                size: self.size
        Label:
            text: 'Логин'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .95}
        TextInput:
            id: name
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .95}
        Label:
            text: 'Пароль'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .90}
        TextInput:
            id: name_pwd
            password: True
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .90}
        Label:
            text: 'Повторите пароль'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .85}
        TextInput:
            id: name_pwd2
            password: True
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .85}
        Label:
            text: 'Название СТО'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .80}
        TextInput:
            id: name_STO
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .80}
        Label:
            text: 'Область(пример: Минская)'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .75}
        TextInput:
            id: name_obl
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .75}
        Label:
            text: 'Город(пример: Минск)'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .70}
        TextInput:
            id: name_town
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .70}
        Label:
            text: 'Контактный номер'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .65}
        TextInput:
            id: number_phone
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .65}
            input_type: 'number'
            input_filter: 'int'
        Button:
            id: back2
            text: 'Назад'
            size_hint: .5, .1
            pos_hint: {'x': .0, 'y': .0}
            on_press: root.manager.current = 'menu'
        Button:
            id: reg1
            text: 'Зарегистрироваться'
            size_hint: .5, .1
            pos_hint: {'x': .5, 'y': .0}
            on_press: root.manager.current = root.reg()


###################################

<RegBad>:
    BoxLayout:
        canvas.before:
            Color:
                rgb: 1, .17, 0, 0
            Rectangle:
                size: self.size
        orientation: 'vertical'
        Label:
            text: 'Пароли не совпадают!'
        Button:
            size_hint: 1, .1
            text: 'Назад'
            on_press: root.manager.current = 'registration'
        Button:
            size_hint: 1, .1
            text: 'Выход'
            on_press: root.manager.current = 'menu'

#######################################

<RegGood>:
    BoxLayout:
        canvas.before:
            Color:
                rgb: 1, .17, 0, 0
            Rectangle:
                size: self.size
        orientation: 'vertical'
        Label:
            text: 'Регистрация прошла успешно'
        Button:
            size_hint: 1, .1
            text: 'Вход'
            on_press: root.manager.current = 'menu'

#######################################

<OrderGood>:
    BoxLayout:
        canvas.before:
            Color:
                rgb: 1, .17, 0, 0
            Rectangle:
                size: self.size
        orientation: 'vertical'
        Label:
            text: 'Заказ успешно создан'
        Button:
            size_hint: 1, .1
            text: 'Меню'
            on_press: root.manager.current = root.menu()

#######################################

<BadLogin>:
    BoxLayout:
        canvas.before:
            Color:
                rgb: 1, .17, 0, 0
            Rectangle:
                size: self.size
        orientation: 'vertical'
        Label:
            text: 'Пользователь с таким логином существует!'
        Button:
            size_hint: 1, .1
            text: 'Назад'
            on_press: root.manager.current = 'registration'
        Button:
            size_hint: 1, .1
            text: 'Выход'
            on_press: root.manager.current = 'menu'

#################################################

<BadOblastOrTown>:
    BoxLayout:
        canvas.before:
            Color:
                rgb: 1, .17, 0, 0
            Rectangle:
                size: self.size
        orientation: 'vertical'
        Label:
            text: 'Заполните все строки,\nлибо неправильно указаны область или город'
        Button:
            size_hint: 1, .1
            text: 'Назад'
            on_press: root.manager.current = 'registration'
        Button:
            size_hint: 1, .1
            text: 'Выход'
            on_press: root.manager.current = 'menu'

###############################################

<BadOblastOrTown2>:
    BoxLayout:
        canvas.before:
            Color:
                rgb: 1, .17, 0, 0
            Rectangle:
                size: self.size
        orientation: 'vertical'
        Label:
            text: 'Заполните все строки,\nлибо неправильно указаны область или город'
        Button:
            size_hint: 1, .1
            text: 'Назад'
            on_press: root.manager.current = 'createorder'
        Button:
            size_hint: 1, .1
            text: 'Выход'
            on_press: root.manager.current = 'menu'

######################################################

<Authorization>:
    FloatLayout:
        canvas.before:
            Color:
                rgb: 1, .17, 0, 0
            Rectangle:
                size: self.size
        Label:
            text: 'Логин'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .60}
        TextInput:
            id: auth_name
            multiline: False
            size_hint: .45, .05
            pos_hint: {'x': .5, 'y': .60}
        Label:
            text: 'Пароль'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .50}
        TextInput:
            id: auth_pwd
            password: True
            multiline: False
            size_hint: .45, .05
            pos_hint: {'x': .5, 'y': .50}
        Button:
            id: back2
            text: 'Назад'
            size_hint: .5, .1
            pos_hint: {'x': .0, 'y': .0}
            on_press: root.manager.current = 'menu'
        Button:
            id: reg1
            text: 'Авторизоваться'
            size_hint: .5, .1
            pos_hint: {'x': .5, 'y': .0}
            on_press: root.manager.current = root.auth()


####################################

<CreateOrder>:
    FloatLayout:
        canvas.before:
            Color:
                rgb: 1, .17, 0, 0
            Rectangle:
                size: self.size
        Label:
            text: 'Название заказа'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .95}
        TextInput:
            id: name_order
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .95}
        Label:
            text: 'Описание заказа'
            size_hint: .5, .1
            pos_hint: {'x': .0, 'y': .85}
        TextInput:
            id: text_order
            size_hint: .5, .1
            pos_hint: {'x': .5, 'y': .85}
        Label:
            text: 'Город'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .80}
        TextInput:
            id: order_town
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .80}
        Label:
            text: 'Область(пример: Минская)'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .75}
        TextInput:
            id: order_obl
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .75}
        Label:
            text: 'Марка автомобиля'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .70}
        TextInput:
            id: order_car
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .70}
        Label:
            text: 'Модель'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .65}
        TextInput:
            id: order_car_model
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .65}
        Label:
            text: 'Год выпуска'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .60}
        TextInput:
            id: order_car_year
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .60}
        Label:
            text: 'Тип двигателя и обьем'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .55}
        TextInput:
            id: order_car_fuel
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .55}
        Label:
            text: 'Имя'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .50}
        TextInput:
            id: order_username
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .50}
        Label:
            text: 'Контактный номер'
            size_hint: .5, .05
            pos_hint: {'x': .0, 'y': .45}
        TextInput:
            id: order_username_phone
            multiline: False
            size_hint: .5, .05
            pos_hint: {'x': .5, 'y': .45}
            input_type: 'number'
            input_filter: 'int'
        Button:
            id: back2
            text: 'Назад'
            size_hint: .5, .1
            pos_hint: {'x': .0, 'y': .0}
            on_press: root.manager.current = root.back()
        Button:
            id: create_order
            text: 'Создать заказ'
            size_hint: .5, .1
            pos_hint: {'x': .5, 'y': .0}
            on_press: root.manager.current = root.create()
#################################################

<AuthGood>:
    BoxLayout:
        canvas.before:
            Color:
                rgb: 1, .17, 0, 0
            Rectangle:
                size: self.size
        orientation: 'vertical'
        Label:
            text: 'Авторизация прошла успешно'
        Button:
            size_hint: 1, .1
            text: 'Главный экран'
            on_press: root.manager.current = 'authmenu'

#################################################

<AuthBad>:
    BoxLayout:
        canvas.before:
            Color:
                rgb: 1, .17, 0, 0
            Rectangle:
                size: self.size
        orientation: 'vertical'
        Label:
            text: 'Неправильно введен логин или пароль!'
        Button:
            size_hint: 1, .1
            text: 'Назад'
            on_press: root.manager.current = 'authorization'
        Button:
            size_hint: 1, .1
            text: 'Выход'
            on_press: root.manager.current = 'menu'

#####################################################

<AuthMenu>:
    canvas.before:
        Color:
            rgb: 1, .17, 0, 0
        Rectangle:
            size: self.size
    FloatLayout:
        AsyncImage:
            source: 'data/profile.jpg'
            size: self.size
            pos_hint: {'center_x':.5, 'center_y': .5}

    FloatLayout:
        Button:
            text: "Список\nзаказов"
            pos_hint: {'x': .15, 'y': .6}
            size_hint: .2, .2
            on_press: root.manager.current = 'list_orders'

        Button:
            text: "Список\nСТО"
            pos_hint: {'x': .65, 'y': .6}
            size_hint: .2, .2
            on_press: root.manager.current = 'liststo'

        Button:
            text: "О нас"
            pos_hint: {'x': .0, 'y': .9}
            size_hint: 1, .1
            on_press: root.manager.current = 'about_us'

        Button:
            text: "Создать\nзаказ"
            pos_hint: {'x': .15, 'y': .3}
            size_hint: .2, .2
            on_press: root.manager.current = 'createorder'

        Button:
            text: "Мой\nпрофиль"
            pos_hint: {'x': .65, 'y': .3}
            size_hint: .2, .2
            on_press: root.manager.current = 'myprofile'


        Button:
            text: "Выход"
            pos_hint: {'x': .0, 'y': .0}
            size_hint: 1, .1
            on_press: root.manager.current = root.exit()

###################################################

<MyProfile>:
    canvas.before:
        Color:
            rgb: 1, .17, 0, 0
        Rectangle:
            size: self.size
    FloatLayout:
        Label:
            text: "Название станции:"
            pos_hint: {'x': .0, 'y': .8}
            size_hint: .5, .1
        Label:
            text: root.sto_name
            pos_hint: {'x': .5, 'y': .8}
            size_hint: .5, .1
        Label:
            text: "Ваш город:"
            pos_hint: {'x': .0, 'y': .7}
            size_hint: .5, .1
        Label:
            text: root.sto_town
            pos_hint: {'x': .5, 'y': .7}
            size_hint: .5, .1
        Label:
            text: "Контактный номер:"
            pos_hint: {'x': .0, 'y': .6}
            size_hint: .5, .1
        Label:
            text: root.sto_phone
            pos_hint: {'x': .5, 'y': .6}
            size_hint: .5, .1
        Button:
            text: "Меню"
            pos_hint: {'x': .0, 'y': .0}
            size_hint: 1, .1
            on_press: root.manager.current = "authmenu"

##############################################

<FullInformation>:
    canvas.before:
        Color:
            rgb: 1, .17, 0, 0
        Rectangle:
            size: self.size
    BoxLayout:
        orientation: 'vertical'

        FloatLayout:

            InformationLabel:
                text: "Название заказа:"
                size_hint: .5, .05
                pos_hint: {'x': .0, 'y': .95}
            InformationLabel:
                text: root.name_order
                size_hint: .5, .05
                pos_hint: {'x': .5, 'y': .95}
            InformationLabel:
                text: "Полное описание заказа:"
                size_hint: 1, .05
                pos_hint: {'x': .0, 'y': .90}
            InformationLabel:
                text: root.full_text
                size_hint: .9, .15
                pos_hint: {'x': .05, 'y': .75}
                text_size: self.size
                halign: 'left'
                valign: 'top'
            InformationLabel:
                text: "Марка автомобиля:"
                size_hint: .5, .05
                pos_hint: {'x': .0, 'y': .60}
            InformationLabel:
                text: root.order_car
                size_hint: .5, .05
                pos_hint: {'x': .5, 'y': .60}
            InformationLabel:
                text: "Модель автомобиля:"
                size_hint: .5, .05
                pos_hint: {'x': .0, 'y': .55}
            InformationLabel:
                text: root.order_car_model
                size_hint: .5, .05
                pos_hint: {'x': .5, 'y': .55}
            InformationLabel:
                text: "Год выпуска:"
                size_hint: .5, .05
                pos_hint: {'x': .0, 'y': .50}
            InformationLabel:
                text: root.order_car_year
                size_hint: .5, .05
                pos_hint: {'x': .5, 'y': .50}
            InformationLabel:
                text: "Тип топлива и обьем:"
                size_hint: .5, .05
                pos_hint: {'x': .0, 'y': .45}
            InformationLabel:
                text: root.order_car_fuel
                size_hint: .5, .05
                pos_hint: {'x': .5, 'y': .45}
            InformationLabel:
                text: "Имя заказчика:"
                size_hint: .5, .05
                pos_hint: {'x': .0, 'y': .40}
            InformationLabel:
                text: root.order_car_username
                size_hint: .5, .05
                pos_hint: {'x': .5, 'y': .40}
            InformationLabel:
                text: "Контактный номер заказчика:"
                size_hint: .5, .05
                pos_hint: {'x': .0, 'y': .35}
            InformationLabel:
                text: root.order_phone
                size_hint: .5, .05
                pos_hint: {'x': .5, 'y': .35}
            InformationLabel:
                text: "Город:"
                size_hint: .5, .05
                pos_hint: {'x': .0, 'y': .30}
            InformationLabel:
                text: root.town
                size_hint: .5, .05
                pos_hint: {'x': .5, 'y': .30}
            InformationLabel:
                text: "Область:"
                size_hint: .5, .05
                pos_hint: {'x': .0, 'y': .25}
            InformationLabel:
                text: root.order_obl
                size_hint: .5, .05
                pos_hint: {'x': .5, 'y': .25}


        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, .1
            Button:
                text: "Назад"
                size_hint: .5, 1
                on_press: root.manager.current = 'list_orders'
            Button:
                text: "Меню"
                size_hint: .5, 1
                on_press: root.manager.current = root.menu()

<InformationLabel@Label>:
    font_size: sp(15)
    halign: 'left'


##########################################################

<Error>:
    BoxLayout:
        Button:
            text: "Здесь еще пусто\n нажми для выхода"
            on_release: root.manager.current = root.menu()